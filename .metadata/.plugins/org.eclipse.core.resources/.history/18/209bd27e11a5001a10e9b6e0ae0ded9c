/**
 * 
 */
package com.cg.cafemanagementsystem.controller;

import java.util.List;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.cg.cafemanagementsystem.model.Cafe;
import com.cg.cafemanagementsystem.service.CafeServiceImpl;

/**
 * @author vishw
 *
 */
@RestController
@RequestMapping("/cafe")
public class CafeController {
	
	@Autowired
	private CafeServiceImpl service;
	
	@PostMapping(value="/add-cafe")
	public Cafe addCafe(@RequestBody Cafe cafe) {
		System.out.println("Cafe added");
		service.addCafe(cafe);
		System.out.println("Cafe added Successfully");
		return cafe;
	}

	@GetMapping(value="view-all-cafe")
	public List<Cafe> viewAll(Cafe cafe){
		return service.viewAll(cafe);
		
	}
	
	@DeleteMapping(value="delete-cafe-byID/{id}")
	public void deleteCafeById(@PathVariable int id) {
		service.deleteCafe(id);
	}
	
	@GetMapping("/search-cafe-byId/{id}")
	public Optional<Cafe> searchCafe(@PathVariable int id){
		return service.searchCafeById(id);
	}
	
	@GetMapping("/search-cafe-byName/{name}")
	public List<Cafe> findByName(@PathVariable String name){
		return service.searchByName(name);
	}
	
	@GetMapping("/search-cafe-byLocation") 
	//in Key column write location and in Value column write location name i.e Airoli or Vikhroli or Request Params
	public List<Cafe> findByLocation(@RequestParam String location){
		return service.searchByLocation(location);
	}
	
	@PutMapping("/update-cafe")
	public Cafe updateCafe(@RequestBody Cafe cafe) {
		return service.updateCafe(cafe);
	}
	
}
