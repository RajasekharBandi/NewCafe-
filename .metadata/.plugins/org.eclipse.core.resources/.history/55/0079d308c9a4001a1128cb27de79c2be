package com.capgemini.capgeminiCafe.service;

import org.springframework.beans.factory.annotation.Autowired;
//import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
import org.springframework.stereotype.Service;

import com.capgemini.capgeminiCafe.beans.Employee;
import com.capgemini.capgeminiCafe.dao.AuthenticationDao;



@Service("authenticationService")
public class AuthenticationServiceImpl implements AuthenticationService {
  
	@Autowired
	AuthenticationDao authenticationDao;
	
	Employee dummyEmp = new Employee(0,"DummyName","Dummy@Email.com","DummyPassword","9876543210","DummyMagicWord");
	
//	@Autowired
//	private BCryptPasswordEncoder bCryptPasswordEncoder;

	
	public Employee register(Employee employee) {
		return authenticationDao.save(employee);
	}


	@Override
	public Employee userCheck(long empId)throws NullPointerException {
		Employee checkUser =  authenticationDao.existingUserCheck(empId);
		if(checkUser == null) {
			return dummyEmp;
		}
		else {
			return checkUser;
		}
	}
	
	public Employee login(long empId, String empPassword) {
		Employee user = authenticationDao.login(empId , empPassword);
		if(user == null) {
			return dummyEmp;
		}
		else {
			return user;
		}
		
	}

	@Override
	public Employee forgetPassword(long empId, String empMagicWord) {
		Employee user = authenticationDao.forgetPassword(empId , empMagicWord);
		if(user == null) {
			return dummyEmp;
		}
		else {
			return user;
		}
	}

	

}
